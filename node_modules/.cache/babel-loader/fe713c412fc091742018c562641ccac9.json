{"ast":null,"code":"'use strict';\n\nmodule.exports = function (inputType) {\n  var xPositionValues = ['left', 'center', 'right'];\n  var yPositionValues = ['top', 'center', 'bottom'];\n  var stretchModeValues = ['none', 'stretch', 'stretch-if-smaller', 'stretch-if-bigger'];\n  var blendingModeValues = ['multiply', 'screen', 'normal', 'overlay', 'darken', 'lighten', 'lighter', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  var directionValues = ['diagonal', 'left-right', 'top-bottom', 'radial', 'custom'];\n\n  switch (inputType) {\n    case 'image':\n      // Validate image.position\n      if (!Array.isArray(this.image.position) || this.image.position.length !== 2 || xPositionValues.indexOf(this.image.position[0]) === -1 || yPositionValues.indexOf(this.image.position[1]) === -1) {\n        this.triggerError('image.position');\n      } // Validate image.stretchMode\n\n\n      if (this.image.stretchMode) {\n        if (!Array.isArray(this.image.stretchMode) || this.image.stretchMode.length !== 2 || stretchModeValues.indexOf(this.image.stretchMode[0]) === -1 || stretchModeValues.indexOf(this.image.stretchMode[1]) === -1) {\n          this.triggerError('image.stretchMode');\n        }\n      }\n\n      break;\n\n    case 'blendingMode':\n      if (blendingModeValues.indexOf(this.image.blendingMode) === -1) {\n        this.clear();\n        this.triggerError('blendingMode');\n      }\n\n      break;\n\n    case 'direction':\n      if (directionValues.indexOf(this.direction) === -1) {\n        this.triggerError('direction');\n      } else {\n        if (this.direction === 'custom') {\n          if (!areDefinedInPixelsOrPercentage([this.customDirection.x0, this.customDirection.x1, this.customDirection.y0, this.customDirection.y1])) {\n            this.triggerError('customDirection');\n          }\n        }\n      }\n\n      break;\n  }\n};\n\nfunction areDefinedInPixelsOrPercentage(array) {\n  var definedInPixelsOrPercentage = true,\n      i = 0,\n      value;\n\n  while (definedInPixelsOrPercentage && i < array.length) {\n    value = array[i];\n\n    if (typeof value !== 'string') {\n      definedInPixelsOrPercentage = false;\n    } else {\n      var splittedValue = null;\n      var unit = null;\n      if (value.indexOf('px') !== -1) unit = 'px';\n      if (value.indexOf('%') !== -1) unit = '%';\n      splittedValue = value.split(unit).filter(function (value) {\n        return value.length > 0;\n      }); // Check if there is a unit ('px' or '%'),\n      // a char before the unit,\n      // no char after the unit,\n      // the string without the unit is only composed of digits\n\n      if (!unit || splittedValue.length > 2 || !splittedValue[0] || splittedValue[1] || !/^-?\\d+\\.?\\d*$/.test(splittedValue[0])) {\n        definedInPixelsOrPercentage = false;\n      }\n    }\n\n    i++;\n  }\n\n  return definedInPixelsOrPercentage;\n}","map":{"version":3,"sources":["/Users/sylv/Desktop/coding/portfolio-site/node_modules/granim/lib/validateInput.js"],"names":["module","exports","inputType","xPositionValues","yPositionValues","stretchModeValues","blendingModeValues","directionValues","Array","isArray","image","position","length","indexOf","triggerError","stretchMode","blendingMode","clear","direction","areDefinedInPixelsOrPercentage","customDirection","x0","x1","y0","y1","array","definedInPixelsOrPercentage","i","value","splittedValue","unit","split","filter","test"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nmodule.exports = function(inputType) {\r\n\tvar xPositionValues = ['left', 'center', 'right'];\r\n\tvar yPositionValues = ['top', 'center', 'bottom'];\r\n\tvar stretchModeValues = ['none', 'stretch', 'stretch-if-smaller', 'stretch-if-bigger'];\r\n\tvar blendingModeValues = ['multiply', 'screen', 'normal', 'overlay', 'darken',\r\n\t\t'lighten', 'lighter', 'color-dodge', 'color-burn', 'hard-light', 'soft-light',\r\n\t\t'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\r\n\tvar directionValues = ['diagonal', 'left-right', 'top-bottom', 'radial', 'custom'];\r\n\r\n\tswitch(inputType) {\r\n\t\tcase 'image':\r\n\t\t\t// Validate image.position\r\n\t\t\tif ((!Array.isArray(this.image.position) || this.image.position.length !== 2) ||\r\n\t\t\t\txPositionValues.indexOf(this.image.position[0]) === -1 ||\r\n\t\t\t\tyPositionValues.indexOf(this.image.position[1]) === -1\r\n\t\t\t) { this.triggerError('image.position'); }\r\n\t\t\t// Validate image.stretchMode\r\n\t\t\tif (this.image.stretchMode) {\r\n\t\t\t\tif ((!Array.isArray(this.image.stretchMode) || this.image.stretchMode.length !== 2) ||\r\n\t\t\t\t\tstretchModeValues.indexOf(this.image.stretchMode[0]) === -1 ||\r\n\t\t\t\t\tstretchModeValues.indexOf(this.image.stretchMode[1]) === -1\r\n\t\t\t\t) { this.triggerError('image.stretchMode'); }\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'blendingMode':\r\n\t\t\tif (blendingModeValues.indexOf(this.image.blendingMode) === -1) {\r\n\t\t\t\tthis.clear();\r\n\t\t\t\tthis.triggerError('blendingMode');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'direction':\r\n\t\t\tif (directionValues.indexOf(this.direction) === -1) {\r\n\t\t\t\tthis.triggerError('direction');\r\n\t\t\t} else {\r\n\t\t\t\tif (this.direction === 'custom') {\r\n\t\t\t\t\tif (!areDefinedInPixelsOrPercentage([\r\n\t\t\t\t\t\tthis.customDirection.x0,\r\n\t\t\t\t\t\tthis.customDirection.x1,\r\n\t\t\t\t\t\tthis.customDirection.y0,\r\n\t\t\t\t\t\tthis.customDirection.y1\r\n\t\t\t\t\t])) {\r\n\t\t\t\t\t\tthis.triggerError('customDirection');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t}\r\n};\r\n\r\nfunction areDefinedInPixelsOrPercentage(array) {\r\n\tvar definedInPixelsOrPercentage = true, i = 0, value;\r\n\twhile (definedInPixelsOrPercentage && i < array.length) {\r\n\t\tvalue = array[i];\r\n\t\tif (typeof value !== 'string') {\r\n\t\t\tdefinedInPixelsOrPercentage = false;\r\n\t\t} else {\r\n\t\t\tvar splittedValue = null;\r\n\t\t\tvar unit = null;\r\n\t\t\tif (value.indexOf('px') !== -1) unit = 'px';\r\n\t\t\tif (value.indexOf('%') !== -1) unit = '%';\r\n\t\t\tsplittedValue = value.split(unit).filter(function(value) {\r\n\t\t\t\treturn value.length > 0;\r\n\t\t\t});\r\n\t\t\t// Check if there is a unit ('px' or '%'),\r\n\t\t\t// a char before the unit,\r\n\t\t\t// no char after the unit,\r\n\t\t\t// the string without the unit is only composed of digits\r\n\t\t\tif (\r\n\t\t\t\t!unit\r\n\t\t\t\t|| splittedValue.length > 2\r\n\t\t\t\t|| !splittedValue[0]\r\n\t\t\t\t|| splittedValue[1]\r\n\t\t\t\t|| !/^-?\\d+\\.?\\d*$/.test(splittedValue[0])\r\n\t\t\t) {\r\n\t\t\t\tdefinedInPixelsOrPercentage = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n\treturn definedInPixelsOrPercentage;\r\n}\r\n"]},"metadata":{},"sourceType":"script"}