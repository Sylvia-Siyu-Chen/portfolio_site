{"ast":null,"code":"'use strict';\n\nmodule.exports = function () {\n  var _this = this;\n\n  if (this.scrollDebounceTimeout) clearTimeout(this.scrollDebounceTimeout);\n  this.scrollDebounceTimeout = setTimeout(function () {\n    var elPos = _this.canvas.getBoundingClientRect();\n\n    _this.isCanvasInWindowView = !(elPos.bottom < 0 || elPos.right < 0 || elPos.left > window.innerWidth || elPos.top > window.innerHeight);\n\n    if (_this.isCanvasInWindowView) {\n      if (!_this.isPaused || _this.firstScrollInit) {\n        if (_this.image && !_this.isImgLoaded) {\n          return;\n        }\n\n        _this.isPausedBecauseNotInView = false;\n\n        _this.play('isPlayedBecauseInView');\n\n        _this.firstScrollInit = false;\n      }\n    } else {\n      if (!_this.image && _this.firstScrollInit) {\n        _this.refreshColorsAndPos();\n\n        _this.firstScrollInit = false;\n      }\n\n      if (!_this.isPaused && !_this.isPausedBecauseNotInView) {\n        _this.isPausedBecauseNotInView = true;\n\n        _this.pause('isPausedBecauseNotInView');\n      }\n    }\n  }, this.scrollDebounceThreshold);\n};","map":{"version":3,"sources":["/Users/sylv/Desktop/coding/portfolio-site/node_modules/granim/lib/pauseWhenNotInView.js"],"names":["module","exports","_this","scrollDebounceTimeout","clearTimeout","setTimeout","elPos","canvas","getBoundingClientRect","isCanvasInWindowView","bottom","right","left","window","innerWidth","top","innerHeight","isPaused","firstScrollInit","image","isImgLoaded","isPausedBecauseNotInView","play","refreshColorsAndPos","pause","scrollDebounceThreshold"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiB,YAAW;AAC3B,MAAIC,KAAK,GAAG,IAAZ;;AACA,MAAI,KAAKC,qBAAT,EAAgCC,YAAY,CAAC,KAAKD,qBAAN,CAAZ;AAEhC,OAAKA,qBAAL,GAA6BE,UAAU,CAAC,YAAW;AAClD,QAAIC,KAAK,GAAGJ,KAAK,CAACK,MAAN,CAAaC,qBAAb,EAAZ;;AACAN,IAAAA,KAAK,CAACO,oBAAN,GAA6B,EAAEH,KAAK,CAACI,MAAN,GAAe,CAAf,IAAoBJ,KAAK,CAACK,KAAN,GAAc,CAAlC,IAC9BL,KAAK,CAACM,IAAN,GAAaC,MAAM,CAACC,UADU,IACIR,KAAK,CAACS,GAAN,GAAYF,MAAM,CAACG,WADzB,CAA7B;;AAGA,QAAId,KAAK,CAACO,oBAAV,EAAgC;AAC/B,UAAI,CAACP,KAAK,CAACe,QAAP,IAAmBf,KAAK,CAACgB,eAA7B,EAA8C;AAC7C,YAAIhB,KAAK,CAACiB,KAAN,IAAe,CAACjB,KAAK,CAACkB,WAA1B,EAAuC;AAAC;AAAQ;;AAChDlB,QAAAA,KAAK,CAACmB,wBAAN,GAAiC,KAAjC;;AACAnB,QAAAA,KAAK,CAACoB,IAAN,CAAW,uBAAX;;AACApB,QAAAA,KAAK,CAACgB,eAAN,GAAwB,KAAxB;AACA;AAED,KARD,MAQO;AACN,UAAI,CAAChB,KAAK,CAACiB,KAAP,IAAgBjB,KAAK,CAACgB,eAA1B,EAA2C;AAC1ChB,QAAAA,KAAK,CAACqB,mBAAN;;AACArB,QAAAA,KAAK,CAACgB,eAAN,GAAwB,KAAxB;AACA;;AAED,UAAI,CAAChB,KAAK,CAACe,QAAP,IAAmB,CAACf,KAAK,CAACmB,wBAA9B,EAAwD;AACvDnB,QAAAA,KAAK,CAACmB,wBAAN,GAAiC,IAAjC;;AACAnB,QAAAA,KAAK,CAACsB,KAAN,CAAY,0BAAZ;AACA;AACD;AACD,GAxBsC,EAwBpC,KAAKC,uBAxB+B,CAAvC;AAyBA,CA7BD","sourcesContent":["'use strict';\r\n\r\nmodule.exports = function() {\r\n\tvar _this = this;\r\n\tif (this.scrollDebounceTimeout) clearTimeout(this.scrollDebounceTimeout);\r\n\r\n\tthis.scrollDebounceTimeout = setTimeout(function() {\r\n\t\tvar elPos = _this.canvas.getBoundingClientRect();\r\n\t\t_this.isCanvasInWindowView = !(elPos.bottom < 0 || elPos.right < 0 ||\r\n\t\t\telPos.left > window.innerWidth || elPos.top > window.innerHeight);\r\n\r\n\t\tif (_this.isCanvasInWindowView) {\r\n\t\t\tif (!_this.isPaused || _this.firstScrollInit) {\r\n\t\t\t\tif (_this.image && !_this.isImgLoaded) {return;}\r\n\t\t\t\t_this.isPausedBecauseNotInView = false;\r\n\t\t\t\t_this.play('isPlayedBecauseInView');\r\n\t\t\t\t_this.firstScrollInit = false;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif (!_this.image && _this.firstScrollInit) {\r\n\t\t\t\t_this.refreshColorsAndPos();\r\n\t\t\t\t_this.firstScrollInit = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (!_this.isPaused && !_this.isPausedBecauseNotInView) {\r\n\t\t\t\t_this.isPausedBecauseNotInView = true;\r\n\t\t\t\t_this.pause('isPausedBecauseNotInView');\r\n\t\t\t}\r\n\t\t}\r\n\t}, this.scrollDebounceThreshold);\r\n};\r\n"]},"metadata":{},"sourceType":"script"}